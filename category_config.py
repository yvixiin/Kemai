#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
品类分组配置文件
包含：品类分组、字段规则、Few-Shot 示例
"""

# ==================== 品类分组配置 ====================
# 将 234 个品类分为 6 个主要组别

CATEGORY_GROUPS = {
    "food_beverage": {
        "name": "食品饮料类",
        "categories": [
            # 粮油米面
            "大米", "食用油", "食用粉", "杂粮", "豆类", "麦片",
            # 调味品
            "调味醋", "调味粉_干调味料", "调味酱类", "调味酱油", "调味油汁_料酒",
            "盐_调味糖", "冲调用糖", "火锅配料", "炖_汤料",
            # 酒水饮料
            "白酒", "国产啤酒", "国产葡萄酒", "黄酒_米酒_滋补酒", "预调酒_其他酒", "进口烈酒",
            "碳酸饮料", "茶饮料", "纯果蔬汁饮料", "果蔬汁饮料", "浓缩果蔬汁饮料",
            "含乳_蛋白_谷物饮料", "机能健康饮料", "水",
            # 乳制品
            "纯奶", "加味奶", "酸奶_乳酸菌奶", "冷藏酸奶", "冷藏鲜奶",
            "冷藏奶油_奶酪_牛油", "冷冻奶油_奶酪", "成人奶粉",
            # 冷冻冷藏
            "冰淇淋", "冰棒_棒冰", "冷藏饮品", "食用冰",
            "冷冻包装肉类", "冷冻包装水产", "冷冻包装蔬菜", "冷冻包装水果",
            "冷冻包装水饺", "冷冻包装馄饨", "冷冻包装汤圆", "冷冻包装粽子",
            "冷冻包装米_面速食", "冷冻包装面点_米制品", "冷冻火锅食品",
            "冷冻休闲食品", "冷冻半成品配料_馅料", "冷藏加工半成品",
            # 休闲食品
            "饼干", "糕点", "糖果", "巧克力", "果冻布丁_乳酸冰棒",
            "膨化食品", "蜜饯类_蔬果脆", "瓜子", "花生", "核果",
            "肉类小食", "水产小食", "休闲素食", "休闲即食蛋类",
            # 罐头食品
            "肉类罐头", "水产罐头", "蔬菜罐头", "水果罐头",
            # 方便速食
            "方便米线_面制品", "包装煮食米面_粉_制品", "包装速食_自热食品",
            # 蛋类肉类
            "包装蛋类", "包装加工蛋类", "包装火腿肠", "包装腌腊品",
            "冷藏包装肉制品",
            # 蔬菜水产
            "包装蔬菜_食用菌", "包装水产类", "包装干果类", "新鲜蔬菜", "国产浆果类",
            "加工蔬菜", "蔬菜佐餐小菜", "豆制品小菜", "水产佐餐小菜",
            # 冲调饮品
            "茶", "咖啡", "蜂蜜_浓浆", "豆粉", "芝麻糊", "核桃粉",
            "其他冲调食品", "休闲冲泡饮品", "粥饮_龟苓膏_凉粉",
            # 烘焙原料
            "烘焙原料", "半成品配料",
        ],
        "field_emphasis": ["口味1", "口味2", "口味3", "加工工艺", "认证/标准", "等级", "纯度", "规格"],
        "field_suppress": [],
        "field_instructions": {
            "口味": "食品类优先使用口味字段，如草莓味、巧克力味、原味、香辣、麻辣等",
            "加工工艺": "如压榨、浸出、古法、发酵、烘焙等",
            "等级": "如一级、特级、优等品等"
        }
    },

    "personal_care": {
        "name": "日用洗护类",
        "categories": [
            # 口腔护理
            "牙膏", "牙刷", "口腔附属用品",
            # 洗护用品
            "洗发_护发品", "沐浴露", "洗面乳", "香皂_洗手液",
            # 洗涤用品
            "洗衣粉", "洗衣剂", "洗衣皂", "洗衣_晒衣用品",
            # 清洁用品
            "浴厕厨房清洁用品", "家居清洁剂", "杀虫用品",
            "打扫用具", "清洁用具",
            # 纸品
            "卫生纸", "面纸", "厨房纸巾", "湿巾",
            # 一次性用品
            "保鲜膜_袋", "垃圾袋", "餐饮一次性用品", "烹调一次性用品", "其他一次性用品",
            # 个人护理
            "整发_染发用品", "剃须用品", "医护用品", "计生用品",
            # 女性用品
            "女性卫生用品",
            # 防护用品
            "防潮_除臭_芳香用品",
        ],
        "field_emphasis": ["特性1", "特性2", "特性3", "功能1", "功能2", "功能3", "规格", "适用人群/对象"],
        "field_suppress": ["口味1", "口味2", "口味3"],
        "field_instructions": {
            "口味": "日用洗护类严禁使用口味字段，薄荷、柠檬等描述应填入特性字段",
            "特性": "香型、成分特点，如薄荷、小苏打、益生菌、氨基酸等",
            "功能": "主要功效，如美白、去屑、护龈、清新口气、抗菌等"
        }
    },

    "mother_baby": {
        "name": "母婴用品类",
        "categories": [
            # 奶粉
            "婴幼儿奶粉", "婴幼儿羊奶粉", "儿童_学生奶粉", "孕产妇奶粉",
            # 纸尿裤
            "婴儿纸尿片_裤", "婴儿拉拉裤", "尿裤尿片护理垫",
            # 婴儿护理
            "婴儿湿巾", "婴儿护肤", "婴儿洗发沐浴", "婴儿洗涤用品",
            "其他婴儿纸制品",
            # 喂养
            "婴儿辅食", "奶瓶奶嘴", "喂哺辅助品",
            # 孕妇用品
            "孕妇待产_护理用品", "产妇服饰",
            # 儿童用品
            "儿童保养用品",
            # 保健营养
            "保健品", "营养品", "传统滋补品",
        ],
        "field_emphasis": ["适用人群/对象", "认证/标准", "规格", "特性1", "特性2", "功能1"],
        "field_suppress": [],
        "field_instructions": {
            "适用人群/对象": "必须标注，如婴儿1段、幼儿3段、孕妇、0-6个月、儿童等",
            "认证/标准": "优先提取安全认证，如有机认证、FDA认证、国标等"
        }
    },

    "apparel": {
        "name": "服装鞋帽类",
        "categories": [
            # 男士
            "男士服饰", "男士内裤", "男士袜",
            # 女士
            "女士内裤", "女士袜", "文胸",
            # 鞋类
            "布鞋_棉鞋", "拖鞋", "鞋配件",
            # 配饰
            "帽子", "腰带", "手套", "饰品",
            # 其他
            "保暖商品", "雨衣",
        ],
        "field_emphasis": ["颜色", "材质", "尺寸", "设计类型", "适用人群/对象"],
        "field_suppress": ["口味1", "口味2", "口味3", "加工工艺", "规格"],
        "field_instructions": {
            "颜色": "优先提取颜色描述，如黑色、白色、藏青、米白等",
            "材质": "面料材质，如纯棉、涤纶、真皮、羊毛等",
            "尺寸": "服装尺码，如L、XL、42码、均码等"
        }
    },

    "electronics": {
        "name": "电子配件类",
        "categories": [
            "电池", "手机及配件", "办公配件", "电器配件",
            "个人护理电器", "家居电器",
            "电磁炉_电饼铛", "电饭煲_锅_电压力锅", "电风扇",
            "电热水瓶_电热水壶", "微波炉_家用电烤箱",
        ],
        "field_emphasis": ["型号", "容量", "特性1", "特性2", "材质", "尺寸", "规格"],
        "field_suppress": ["口味1", "口味2", "口味3", "加工工艺"],
        "field_instructions": {
            "型号": "优先提取型号信息，如7号电池、Type-C等",
            "容量": "电池容量（mAh）或存储容量（GB、TB）",
            "特性": "技术特性，如快充、无线、防水、智能等"
        }
    },

    "home_kitchen": {
        "name": "家居用品类",
        "categories": [
            # 杯壶餐具
            "保温杯", "玻璃杯_壶", "塑料杯_壶", "酒具",
            "不锈钢餐具", "陶瓷餐具", "筷_勺_刀_叉", "餐桌用品",
            # 厨具
            "炒锅", "煎锅_煎盘", "奶锅", "压力锅", "蒸锅_蒸笼",
            "厨房刀具", "厨房砧板", "厨房整理及设备", "烹调器具",
            # 收纳
            "保鲜_密封容器", "水桶_脸盆", "垃圾桶",
            # 浴室
            "浴室_淋浴配件", "卫生间配件", "毛巾",
            # 家居
            "装饰_摆件", "衣架", "被子", "家居植物",
            # 办公文具
            "本册_便签", "笔", "学生用品", "资料收纳品", "办公用纸",
            "胶水_胶带", "卡片类", "绘画_美术用品",
            # 户外
            "伞", "休闲_生活用包", "旅行_野营装备",
            # 玩具
            "教育类玩具", "男孩玩具", "女孩玩具", "毛绒玩具",
            "音乐玩具", "潮玩动漫", "棋牌类", "球类运动",
            # 工具
            "手工工具", "锁扣_锁匙扣",
            # 特殊
            "香烟", "香烟配套商品", "机油",
        ],
        "field_emphasis": ["材质", "容量", "尺寸", "设计类型", "场景", "规格"],
        "field_suppress": ["口味1", "口味2", "口味3", "加工工艺"],
        "field_instructions": {
            "材质": "主要材质，如不锈钢、玻璃、塑料、陶瓷、木质等",
            "容量": "容量规格，如500ml、1L等",
            "场景": "使用场景，如家用、办公、户外、旅行等"
        }
    },

    "beauty_care": {
        "name": "美妆护肤类",
        "categories": [
            "女士保养用品", "男士保养用品",
            "化妆用品", "化妆_美容工具",
        ],
        "field_emphasis": ["特性1", "特性2", "功能1", "功能2", "规格", "适用人群/对象"],
        "field_suppress": ["口味1", "口味2", "口味3"],
        "field_instructions": {
            "特性": "成分特点，如玻尿酸、维生素E、氨基酸等",
            "功能": "护肤功效，如保湿、美白、抗皱、控油等"
        }
    }
}


# ==================== Few-Shot 示例 ====================

FEW_SHOT_EXAMPLES = {
    "food_beverage": [
        {
            "product_name": "金龙鱼压榨一级花生油5L桶装",
            "barcode": "6916168616554",
            "output": {
                "品牌": "金龙鱼",
                "品类": "花生油",
                "加工工艺": "压榨",
                "等级": "一级",
                "规格": "5L",
                "包装类型": "桶装"
            }
        },
        {
            "product_name": "五羊牌甜筒雪糕巧克力味73g",
            "barcode": "6907201280139",
            "output": {
                "品牌": "五羊牌",
                "品类": "甜筒雪糕",
                "口味1": "巧克力味",
                "规格": "73g"
            }
        },
        {
            "product_name": "海天金标生抽酱油1.9L",
            "barcode": "6902265110019",
            "output": {
                "品牌": "海天",
                "子品牌/系列": "金标",
                "品类": "生抽酱油",
                "规格": "1.9L"
            }
        }
    ],

    "personal_care": [
        {
            "product_name": "云南白药金口健牙膏益优清新冰柠薄荷型105g",
            "barcode": "6901070602801",
            "output": {
                "品牌": "云南白药",
                "子品牌/系列": "金口健",
                "品类": "牙膏",
                "特性1": "益优清新",
                "特性2": "冰柠薄荷型",
                "规格": "105g"
            }
        },
        {
            "product_name": "清扬男士去屑洗发露清爽控油型750ml",
            "barcode": "6902088134681",
            "output": {
                "品牌": "清扬",
                "品类": "洗发露",
                "功能1": "去屑",
                "功能2": "清爽控油",
                "适用人群/对象": "男士",
                "规格": "750ml"
            }
        },
        {
            "product_name": "维达抽纸超韧系列3层130抽*6包",
            "barcode": "6901818618000",
            "output": {
                "品牌": "维达",
                "品类": "抽纸",
                "子品牌/系列": "超韧系列",
                "特性1": "3层",
                "规格": "130抽",
                "包装数量": "6",
                "包装单位": "包"
            }
        }
    ],

    "mother_baby": [
        {
            "product_name": "飞鹤星飞帆婴儿配方奶粉1段0-6个月700g",
            "barcode": "6907925770121",
            "output": {
                "品牌": "飞鹤",
                "子品牌/系列": "星飞帆",
                "品类": "婴儿配方奶粉",
                "适用人群/对象": "1段0-6个月",
                "规格": "700g"
            }
        },
        {
            "product_name": "帮宝适超薄干爽婴儿纸尿裤L码52片",
            "barcode": "6903244200619",
            "output": {
                "品牌": "帮宝适",
                "品类": "婴儿纸尿裤",
                "特性1": "超薄干爽",
                "尺寸": "L码",
                "包装数量": "52",
                "包装单位": "片"
            }
        }
    ],

    "apparel": [
        {
            "product_name": "南极人男士纯棉内裤平角裤XL码黑色3条装",
            "barcode": "6923456789012",
            "output": {
                "品牌": "南极人",
                "品类": "内裤",
                "适用人群/对象": "男士",
                "材质": "纯棉",
                "设计类型": "平角裤",
                "尺寸": "XL码",
                "颜色": "黑色",
                "包装数量": "3",
                "套装/组合": "装"
            }
        }
    ],

    "electronics": [
        {
            "product_name": "南孚7号碱性电池1.5V 8粒装",
            "barcode": "6901826807648",
            "output": {
                "品牌": "南孚",
                "品类": "碱性电池",
                "型号": "7号",
                "特性1": "1.5V",
                "包装数量": "8",
                "包装单位": "粒"
            }
        },
        {
            "product_name": "品胜Type-C快充数据线1m白色",
            "barcode": "6940735484925",
            "output": {
                "品牌": "品胜",
                "品类": "数据线",
                "型号": "Type-C",
                "特性1": "快充",
                "尺寸": "1m",
                "颜色": "白色"
            }
        }
    ],

    "home_kitchen": [
        {
            "product_name": "苏泊尔不锈钢真空保温杯500ml银色",
            "barcode": "6923456789099",
            "output": {
                "品牌": "苏泊尔",
                "品类": "保温杯",
                "材质": "不锈钢",
                "特性1": "真空保温",
                "容量": "500ml",
                "颜色": "银色"
            }
        },
        {
            "product_name": "晨光中性笔0.5mm黑色12支/盒",
            "barcode": "6935286601234",
            "output": {
                "品牌": "晨光",
                "品类": "中性笔",
                "尺寸": "0.5mm",
                "颜色": "黑色",
                "包装数量": "12",
                "包装单位": "支",
                "包装类型": "盒"
            }
        }
    ],

    "beauty_care": [
        {
            "product_name": "大宝SOD蜜保湿补水200ml",
            "barcode": "6920999701754",
            "output": {
                "品牌": "大宝",
                "子品牌/系列": "SOD蜜",
                "品类": "润肤乳",
                "功能1": "保湿",
                "功能2": "补水",
                "规格": "200ml"
            }
        }
    ]
}


# ==================== 字段映射（中文 -> 英文） ====================

FIELD_MAP = {
    "企业": "enterprise",
    "品牌": "brand",
    "子品牌/系列": "sub_brand",
    "品类": "category",
    "口味1": "flavor_1",
    "口味2": "flavor_2",
    "口味3": "flavor_3",
    "加工工艺": "process",
    "认证/标准": "certification",
    "特性1": "attribute_1",
    "特性2": "attribute_2",
    "特性3": "attribute_3",
    "功能1": "function_1",
    "功能2": "function_2",
    "功能3": "function_3",
    "设计类型": "design_type",
    "套装/组合": "bundle_type",
    "包装类型": "pack_type",
    "包装材质": "pack_material",
    "包装数量": "pack_quantity",
    "包装单位": "pack_unit",
    "规格": "spec",
    "容量": "capacity",
    "尺寸": "size",
    "颜色": "color",
    "材质": "material",
    "产地": "origin",
    "等级": "grade",
    "纯度": "purity",
    "适用人群/对象": "target_user",
    "场景": "scene",
    "型号": "model"
}

# 输出CSV的表头
OUTPUT_HEADER = ["barcode", "product_name", "category_input", "group_name"] + list(FIELD_MAP.values())
